cmake_minimum_required(VERSION 3.26.4)
project(reskia)

include_directories(${PROJECT_SOURCE_DIR}/)
include_directories(${PROJECT_SOURCE_DIR}/_include)
link_directories(${PROJECT_SOURCE_DIR}/lib)

set(CMAKE_CXX_STANDARD 17)

set(SOURCE_FILES reskia.cpp)

list(APPEND SOURCE_FILES
        #       src/codec/SkAvifCodec.cpp
        #       src/codec/SkBmpBaseCodec.cpp
        #       src/codec/SkBmpCodec.cpp
        #       src/codec/SkBmpMaskCodec.cpp
        #       src/codec/SkBmpRLECodec.cpp
        #       src/codec/SkCodecImageGenerator.cpp
        #       src/codec/SkEncodedInfo.cpp
        #       src/codec/SkImageGenerator_FromEncoded.cpp
        #       src/codec/SkJpegSegmentScan.cpp
        #       src/codec/SkJpegSourceMgr.cpp
        #       src/codec/SkJpegxlCodec.cpp
        #       src/codec/SkJpegXmp.cpp
        #       src/codec/SkXmp.cpp
        #       src/encode/SkPngEncoder_none.cpp
        #       src/utils/SkTestCanvas.cpp
        #       src/xml/SkDOM.cpp
        #       src/xml/SkXMLParser.cpp
        #       src/xml/SkXMLWriter.cpp
        src/base/SkArenaAlloc.cpp
        src/base/SkBase64.cpp
        src/base/SkBezierCurves.cpp
        src/base/SkBlockAllocator.cpp
        src/base/SkBuffer.cpp
        src/base/SkContainers.cpp
        src/base/SkCubics.cpp
        src/base/SkDebug.cpp
        src/base/SkDeque.cpp
        src/base/SkFloatingPoint.cpp
        src/base/SkHalf.cpp
        src/base/SkMalloc.cpp
        src/base/SkMathPriv.cpp
        src/base/SkQuads.cpp
        src/base/SkSafeMath.cpp
        src/base/SkSemaphore.cpp
        src/base/SkSharedMutex.cpp
        src/base/SkSpinlock.cpp
        src/base/SkTDArray.cpp
        src/base/SkThreadID.cpp
        src/base/SkTime.cpp
        src/base/SkTSearch.cpp
        src/base/SkUTF.cpp
        src/base/SkUtils.cpp
        src/codec/SkAndroidCodec.cpp
        src/codec/SkAndroidCodecAdapter.cpp
        src/codec/SkBmpBaseCodec.cpp
        src/codec/SkBmpCodec.cpp
        src/codec/SkBmpMaskCodec.cpp
        src/codec/SkBmpRLECodec.cpp
        src/codec/SkBmpStandardCodec.cpp
        src/codec/SkCodec.cpp
        src/codec/SkCodecImageGenerator.cpp
        src/codec/SkColorPalette.cpp
        src/codec/SkEncodedInfo.cpp
        src/codec/SkExif.cpp
        src/codec/SkHeifCodec.cpp
        src/codec/SkIcoCodec.cpp
        src/codec/SkImageGenerator_FromEncoded.cpp
        src/codec/SkJpegCodec.cpp
        src/codec/SkJpegDecoderMgr.cpp
        src/codec/SkJpegMultiPicture.cpp
        src/codec/SkJpegSegmentScan.cpp
        src/codec/SkJpegSourceMgr.cpp
        src/codec/SkJpegUtility.cpp
        src/codec/SkMasks.cpp
        src/codec/SkMaskSwizzler.cpp
        src/codec/SkParseEncodedOrigin.cpp
        src/codec/SkPixmapUtils.cpp
        src/codec/SkPngCodec.cpp
        src/codec/SkSampledCodec.cpp
        src/codec/SkSampler.cpp
        src/codec/SkSwizzler.cpp
        src/codec/SkTiffUtility.cpp
        src/codec/SkWbmpCodec.cpp
        src/codec/SkWebpCodec.cpp
        src/core/SkAAClip.cpp
        src/core/SkAlphaRuns.cpp
        src/core/SkAnalyticEdge.cpp
        src/core/SkAnnotation.cpp
        src/core/SkATrace.cpp
        src/core/SkAutoPixmapStorage.cpp
        src/core/SkBBHFactory.cpp
        src/core/SkBigPicture.cpp
        src/core/SkBitmap.cpp
        src/core/SkBitmapCache.cpp
        src/core/SkBitmapDevice.cpp
        src/core/SkBitmapProcState_matrixProcs.cpp
        src/core/SkBitmapProcState_opts_hsw.cpp
        src/core/SkBitmapProcState_opts_ssse3.cpp
        src/core/SkBitmapProcState_opts.cpp
        src/core/SkBitmapProcState.cpp
        src/core/SkBlendMode.cpp
        src/core/SkBlendModeBlender.cpp
        src/core/SkBlitMask_opts_ssse3.cpp
        src/core/SkBlitMask_opts.cpp
        src/core/SkBlitRow_D32.cpp
        src/core/SkBlitRow_opts_hsw.cpp
        src/core/SkBlitRow_opts.cpp
        src/core/SkBlitter_A8.cpp
        src/core/SkBlitter_ARGB32.cpp
        src/core/SkBlitter_Sprite.cpp
        src/core/SkBlitter.cpp
        src/core/SkBlurMask.cpp
        src/core/SkBlurMaskFilterImpl.cpp
        src/core/SkCachedData.cpp
        src/core/SkCanvas_Raster.cpp
        src/core/SkCanvas.cpp
        src/core/SkCanvasPriv.cpp
        src/core/SkCapabilities.cpp
        src/core/SkChecksum.cpp
        src/core/SkClipStack.cpp
        src/core/SkClipStackDevice.cpp
        src/core/SkColor.cpp
        src/core/SkColorFilter.cpp
        src/core/SkColorSpace.cpp
        src/core/SkColorSpaceXformSteps.cpp
        src/core/SkColorTable.cpp
        src/core/SkCompressedDataUtils.cpp
        src/core/SkContourMeasure.cpp
        src/core/SkConvertPixels.cpp
        src/core/SkCpu.cpp
        src/core/SkCubicClipper.cpp
        src/core/SkCubicMap.cpp
        src/core/SkData.cpp
        src/core/SkDataTable.cpp
        src/core/SkDescriptor.cpp
        src/core/SkDevice.cpp
        src/core/SkDistanceFieldGen.cpp
        src/core/SkDocument.cpp
        src/core/SkDraw_atlas.cpp
        src/core/SkDraw_text.cpp
        src/core/SkDraw_vertices.cpp
        src/core/SkDraw.cpp
        src/core/SkDrawable.cpp
        src/core/SkDrawBase.cpp
        src/core/SkDrawLooper.cpp
        src/core/SkDrawShadowInfo.cpp
        src/core/SkEdge.cpp
        src/core/SkEdgeBuilder.cpp
        src/core/SkEdgeClipper.cpp
        src/core/SkExecutor.cpp
        src/core/SkFlattenable.cpp
        src/core/SkFont_serial.cpp
        src/core/SkFont.cpp
        src/core/SkFontDescriptor.cpp
        src/core/SkFontMetricsPriv.cpp
        src/core/SkFontMgr.cpp
        src/core/SkFontStream.cpp
        src/core/SkGaussFilter.cpp
        src/core/SkGeometry.cpp
        src/core/SkGlobalInitialization_core.cpp
        src/core/SkGlyph.cpp
        src/core/SkGlyphRunPainter.cpp
        src/core/SkGraphics.cpp
        src/core/SkIDChangeListener.cpp
        src/core/SkImageFilter.cpp
        src/core/SkImageFilterCache.cpp
        src/core/SkImageFilterTypes.cpp
        src/core/SkImageGenerator.cpp
        src/core/SkImageInfo.cpp
        src/core/SkLatticeIter.cpp
        src/core/SkLineClipper.cpp
        src/core/SkLocalMatrixImageFilter.cpp
        src/core/SkM44.cpp
        src/core/SkMallocPixelRef.cpp
        src/core/SkMask.cpp
        src/core/SkMaskBlurFilter.cpp
        src/core/SkMaskCache.cpp
        src/core/SkMaskFilter.cpp
        src/core/SkMaskGamma.cpp
        src/core/SkMatrix.cpp
        src/core/SkMatrixInvert.cpp
        src/core/SkMD5.cpp
        src/core/SkMemset_opts_avx.cpp
        src/core/SkMemset_opts_erms.cpp
        src/core/SkMemset_opts.cpp
        src/core/SkMesh.cpp
        src/core/SkMipmap.cpp
        src/core/SkMipmapAccessor.cpp
        src/core/SkMipmapBuilder.cpp
        src/core/SkMipmapDrawDownSampler.cpp
        src/core/SkMipmapHQDownSampler.cpp
        src/core/SkOpts.cpp
        src/core/SkOverdrawCanvas.cpp
        src/core/SkPaint.cpp
        src/core/SkPaintPriv.cpp
        src/core/SkPath_serial.cpp
        src/core/SkPath.cpp
        src/core/SkPathBuilder.cpp
        src/core/SkPathEffect.cpp
        src/core/SkPathMeasure.cpp
        src/core/SkPathRef.cpp
        src/core/SkPathUtils.cpp
        src/core/SkPicture.cpp
        src/core/SkPictureData.cpp
        src/core/SkPictureFlat.cpp
        src/core/SkPicturePlayback.cpp
        src/core/SkPictureRecord.cpp
        src/core/SkPictureRecorder.cpp
        src/core/SkPixelRef.cpp
        src/core/SkPixmap.cpp
        src/core/SkPixmapDraw.cpp
        src/core/SkPoint.cpp
        src/core/SkPoint3.cpp
        src/core/SkPtrRecorder.cpp
        src/core/SkQuadClipper.cpp
        src/core/SkRasterClip.cpp
        src/core/SkRasterPipeline.cpp
        src/core/SkRasterPipelineBlitter.cpp
        src/core/SkReadBuffer.cpp
        src/core/SkReadPixelsRec.cpp
        src/core/SkRecord.cpp
        src/core/SkRecordDraw.cpp
        src/core/SkRecordedDrawable.cpp
        src/core/SkRecorder.cpp
        src/core/SkRecordOpts.cpp
        src/core/SkRecords.cpp
        src/core/SkRect.cpp
        src/core/SkRegion_path.cpp
        src/core/SkRegion.cpp
        src/core/SkResourceCache.cpp
        src/core/SkRRect.cpp
        src/core/SkRSXform.cpp
        src/core/SkRTree.cpp
        src/core/SkRuntimeBlender.cpp
        src/core/SkRuntimeEffect.cpp
        src/core/SkScalar.cpp
        src/core/SkScalerContext.cpp
        src/core/SkScan_AAAPath.cpp
        src/core/SkScan_Antihair.cpp
        src/core/SkScan_AntiPath.cpp
        src/core/SkScan_Hairline.cpp
        src/core/SkScan_Path.cpp
        src/core/SkScan_SAAPath.cpp
        src/core/SkScan.cpp
        src/core/SkSLTypeShared.cpp
        src/core/SkSpecialImage.cpp
        src/core/SkSpriteBlitter_ARGB32.cpp
        src/core/SkStream.cpp
        src/core/SkStrike.cpp
        src/core/SkStrikeCache.cpp
        src/core/SkStrikeSpec.cpp
        src/core/SkString.cpp
        src/core/SkStringUtils.cpp
        src/core/SkStroke.cpp
        src/core/SkStrokeRec.cpp
        src/core/SkStrokerPriv.cpp
        src/core/SkSwizzle.cpp
        src/core/SkSwizzler_opts_hsw.cpp
        src/core/SkSwizzler_opts_ssse3.cpp
        src/core/SkSwizzler_opts.cpp
        src/core/SkTaskGroup.cpp
        src/core/SkTextBlob.cpp
        src/core/SkTextBlobTrace.cpp
        src/core/SkTypeface_remote.cpp
        src/core/SkTypeface.cpp
        src/core/SkTypefaceCache.cpp
        src/core/SkUnPreMultiply.cpp
        src/core/SkVertices.cpp
        src/core/SkVertState.cpp
        src/core/SkWriteBuffer.cpp
        src/core/SkWritePixelsRec.cpp
        src/core/SkWriter32.cpp
        src/core/SkYUVAInfo.cpp
        src/core/SkYUVAPixmaps.cpp
        src/core/SkYUVMath.cpp
        src/core/SkYUVPlanesCache.cpp
        src/effects/colorfilters/SkBlendModeColorFilter.cpp
        src/effects/colorfilters/SkColorFilterBase.cpp
        src/effects/colorfilters/SkColorSpaceXformColorFilter.cpp
        src/effects/colorfilters/SkComposeColorFilter.cpp
        src/effects/colorfilters/SkGaussianColorFilter.cpp
        src/effects/colorfilters/SkMatrixColorFilter.cpp
        src/effects/colorfilters/SkRuntimeColorFilter.cpp
        src/effects/colorfilters/SkTableColorFilter.cpp
        src/effects/colorfilters/SkWorkingFormatColorFilter.cpp
        src/effects/imagefilters/SkBlendImageFilter.cpp
        src/effects/imagefilters/SkBlurImageFilter.cpp
        src/effects/imagefilters/SkColorFilterImageFilter.cpp
        src/effects/imagefilters/SkComposeImageFilter.cpp
        src/effects/imagefilters/SkCropImageFilter.cpp
        src/effects/imagefilters/SkDisplacementMapImageFilter.cpp
        src/effects/imagefilters/SkDropShadowImageFilter.cpp
        src/effects/imagefilters/SkImageImageFilter.cpp
        src/effects/imagefilters/SkLightingImageFilter.cpp
        src/effects/imagefilters/SkMagnifierImageFilter.cpp
        src/effects/imagefilters/SkMatrixConvolutionImageFilter.cpp
        src/effects/imagefilters/SkMatrixTransformImageFilter.cpp
        src/effects/imagefilters/SkMergeImageFilter.cpp
        src/effects/imagefilters/SkMorphologyImageFilter.cpp
        src/effects/imagefilters/SkPictureImageFilter.cpp
        src/effects/imagefilters/SkRuntimeImageFilter.cpp
        src/effects/imagefilters/SkShaderImageFilter.cpp
        src/effects/Sk1DPathEffect.cpp
        src/effects/Sk2DPathEffect.cpp
        src/effects/SkBlenders.cpp
        src/effects/SkColorMatrix.cpp
        src/effects/SkColorMatrixFilter.cpp
        src/effects/SkCornerPathEffect.cpp
        src/effects/SkDashPathEffect.cpp
        src/effects/SkDiscretePathEffect.cpp
        src/effects/SkEmbossMask.cpp
        src/effects/SkEmbossMaskFilter.cpp
        src/effects/SkHighContrastFilter.cpp
        src/effects/SkLayerDrawLooper.cpp
        src/effects/SkShaderMaskFilterImpl.cpp
        src/effects/SkTableMaskFilter.cpp
        src/effects/SkTrimPathEffect.cpp
        src/encode/SkEncoder.cpp
        src/encode/SkICC.cpp
        src/encode/SkPngEncoderImpl.cpp
        src/image/SkImage_AndroidFactories.cpp
        src/image/SkImage_Base.cpp
        src/image/SkImage_Lazy.cpp
        src/image/SkImage_LazyFactories.cpp
        src/image/SkImage_Picture.cpp
        src/image/SkImage_Raster.cpp
        src/image/SkImage_RasterFactories.cpp
        src/image/SkImage.cpp
        src/image/SkPictureImageGenerator.cpp
        src/image/SkRescaleAndReadPixels.cpp
        src/image/SkSurface_Base.cpp
        src/image/SkSurface_Null.cpp
        src/image/SkSurface_Raster.cpp
        src/image/SkSurface.cpp
        src/image/SkTiledImageUtils.cpp
        src/opts/SkOpts_hsw.cpp
        src/pathops/SkAddIntersections.cpp
        src/pathops/SkDConicLineIntersection.cpp
        src/pathops/SkDCubicLineIntersection.cpp
        src/pathops/SkDCubicToQuads.cpp
        src/pathops/SkDLineIntersection.cpp
        src/pathops/SkDQuadLineIntersection.cpp
        src/pathops/SkIntersections.cpp
        src/pathops/SkOpAngle.cpp
        src/pathops/SkOpBuilder.cpp
        src/pathops/SkOpCoincidence.cpp
        src/pathops/SkOpContour.cpp
        src/pathops/SkOpCubicHull.cpp
        src/pathops/SkOpEdgeBuilder.cpp
        src/pathops/SkOpSegment.cpp
        src/pathops/SkOpSpan.cpp
        src/pathops/SkPathOpsAsWinding.cpp
        src/pathops/SkPathOpsCommon.cpp
        src/pathops/SkPathOpsConic.cpp
        src/pathops/SkPathOpsCubic.cpp
        src/pathops/SkPathOpsCurve.cpp
        src/pathops/SkPathOpsDebug.cpp
        src/pathops/SkPathOpsLine.cpp
        src/pathops/SkPathOpsOp.cpp
        src/pathops/SkPathOpsQuad.cpp
        src/pathops/SkPathOpsRect.cpp
        src/pathops/SkPathOpsSimplify.cpp
        src/pathops/SkPathOpsTightBounds.cpp
        src/pathops/SkPathOpsTSect.cpp
        src/pathops/SkPathOpsTypes.cpp
        src/pathops/SkPathOpsWinding.cpp
        src/pathops/SkPathWriter.cpp
        src/pathops/SkReduceOrder.cpp
        src/ports/SkDebug_stdio.cpp
        src/ports/SkGlobalInitialization_default.cpp
        src/ports/SkMemory_malloc.cpp
        src/ports/SkOSFile_stdio.cpp
        src/shaders/gradients/SkConicalGradient.cpp
        src/shaders/gradients/SkGradientBaseShader.cpp
        src/shaders/gradients/SkLinearGradient.cpp
        src/shaders/gradients/SkRadialGradient.cpp
        src/shaders/gradients/SkSweepGradient.cpp
        src/shaders/SkBitmapProcShader.cpp
        src/shaders/SkBlendShader.cpp
        src/shaders/SkColorFilterShader.cpp
        src/shaders/SkColorShader.cpp
        src/shaders/SkCoordClampShader.cpp
        src/shaders/SkEmptyShader.cpp
        src/shaders/SkGainmapShader.cpp
        src/shaders/SkImageShader.cpp
        src/shaders/SkLocalMatrixShader.cpp
        src/shaders/SkPerlinNoiseShaderImpl.cpp
        src/shaders/SkPictureShader.cpp
        src/shaders/SkRuntimeShader.cpp
        src/shaders/SkShader.cpp
        src/shaders/SkShaderBase.cpp
        src/shaders/SkTransformShader.cpp
        src/shaders/SkTriColorShader.cpp
        src/shaders/SkWorkingColorSpaceShader.cpp
        src/sksl/analysis/SkSLCanExitWithoutReturningValue.cpp
        src/sksl/analysis/SkSLCheckProgramStructure.cpp
        src/sksl/analysis/SkSLFinalizationChecks.cpp
        src/sksl/analysis/SkSLGetLoopControlFlowInfo.cpp
        src/sksl/analysis/SkSLGetLoopUnrollInfo.cpp
        src/sksl/analysis/SkSLGetReturnComplexity.cpp
        src/sksl/analysis/SkSLHasSideEffects.cpp
        src/sksl/analysis/SkSLIsConstantExpression.cpp
        src/sksl/analysis/SkSLIsDynamicallyUniformExpression.cpp
        src/sksl/analysis/SkSLIsSameExpressionTree.cpp
        src/sksl/analysis/SkSLIsTrivialExpression.cpp
        src/sksl/analysis/SkSLProgramUsage.cpp
        src/sksl/analysis/SkSLReturnsInputAlpha.cpp
        src/sksl/analysis/SkSLSwitchCaseContainsExit.cpp
        src/sksl/analysis/SkSLSymbolTableStackBuilder.cpp
        src/sksl/codegen/SkSLGLSLCodeGenerator.cpp
        src/sksl/codegen/SkSLMetalCodeGenerator.cpp
        src/sksl/codegen/SkSLPipelineStageCodeGenerator.cpp
        src/sksl/codegen/SkSLRasterPipelineBuilder.cpp
        src/sksl/codegen/SkSLRasterPipelineCodeGenerator.cpp
        src/sksl/codegen/SkSLSPIRVCodeGenerator.cpp
        src/sksl/codegen/SkSLSPIRVtoHLSL.cpp
        src/sksl/codegen/SkSLWGSLCodeGenerator.cpp
        src/sksl/ir/SkSLBinaryExpression.cpp
        src/sksl/ir/SkSLBlock.cpp
        src/sksl/ir/SkSLChildCall.cpp
        src/sksl/ir/SkSLConstructor.cpp
        src/sksl/ir/SkSLConstructorArray.cpp
        src/sksl/ir/SkSLConstructorArrayCast.cpp
        src/sksl/ir/SkSLConstructorCompound.cpp
        src/sksl/ir/SkSLConstructorCompoundCast.cpp
        src/sksl/ir/SkSLConstructorDiagonalMatrix.cpp
        src/sksl/ir/SkSLConstructorMatrixResize.cpp
        src/sksl/ir/SkSLConstructorScalarCast.cpp
        src/sksl/ir/SkSLConstructorSplat.cpp
        src/sksl/ir/SkSLConstructorStruct.cpp
        src/sksl/ir/SkSLDiscardStatement.cpp
        src/sksl/ir/SkSLDoStatement.cpp
        src/sksl/ir/SkSLExpression.cpp
        src/sksl/ir/SkSLExpressionStatement.cpp
        src/sksl/ir/SkSLExtension.cpp
        src/sksl/ir/SkSLFieldAccess.cpp
        src/sksl/ir/SkSLForStatement.cpp
        src/sksl/ir/SkSLFunctionCall.cpp
        src/sksl/ir/SkSLFunctionDeclaration.cpp
        src/sksl/ir/SkSLFunctionDefinition.cpp
        src/sksl/ir/SkSLIfStatement.cpp
        src/sksl/ir/SkSLIndexExpression.cpp
        src/sksl/ir/SkSLInterfaceBlock.cpp
        src/sksl/ir/SkSLLayout.cpp
        src/sksl/ir/SkSLLiteral.cpp
        src/sksl/ir/SkSLModifierFlags.cpp
        src/sksl/ir/SkSLModifiersDeclaration.cpp
        src/sksl/ir/SkSLPostfixExpression.cpp
        src/sksl/ir/SkSLPrefixExpression.cpp
        src/sksl/ir/SkSLProgram.cpp
        src/sksl/ir/SkSLSetting.cpp
        src/sksl/ir/SkSLStructDefinition.cpp
        src/sksl/ir/SkSLSwitchCase.cpp
        src/sksl/ir/SkSLSwitchStatement.cpp
        src/sksl/ir/SkSLSwizzle.cpp
        src/sksl/ir/SkSLSymbolTable.cpp
        src/sksl/ir/SkSLTernaryExpression.cpp
        src/sksl/ir/SkSLType.cpp
        src/sksl/ir/SkSLTypeReference.cpp
        src/sksl/ir/SkSLVarDeclarations.cpp
        src/sksl/ir/SkSLVariable.cpp
        src/sksl/ir/SkSLVariableReference.cpp
        src/sksl/SkSLAnalysis.cpp
        src/sksl/SkSLBuiltinTypes.cpp
        src/sksl/SkSLCompiler.cpp
        src/sksl/SkSLConstantFolder.cpp
        src/sksl/SkSLContext.cpp
        src/sksl/SkSLErrorReporter.cpp
        src/sksl/SkSLInliner.cpp
        src/sksl/SkSLIntrinsicList.cpp
        src/sksl/SkSLLexer.cpp
        src/sksl/SkSLMangler.cpp
        src/sksl/SkSLMemoryLayout.h
        src/sksl/SkSLModuleLoader.cpp
        src/sksl/SkSLOperator.cpp
        src/sksl/SkSLOutputStream.cpp
        src/sksl/SkSLParser.cpp
        src/sksl/SkSLPool.cpp
        src/sksl/SkSLPosition.cpp
        src/sksl/SkSLSampleUsage.cpp
        src/sksl/SkSLString.cpp
        src/sksl/SkSLThreadContext.cpp
        src/sksl/SkSLUtil.cpp
        src/sksl/tracing/SkSLDebugTracePlayer.cpp
        src/sksl/tracing/SkSLDebugTracePriv.cpp
        src/sksl/tracing/SkSLTraceHook.cpp
        src/sksl/transform/SkSLAddConstToVarModifiers.cpp
        src/sksl/transform/SkSLEliminateDeadFunctions.cpp
        src/sksl/transform/SkSLEliminateDeadGlobalVariables.cpp
        src/sksl/transform/SkSLEliminateDeadLocalVariables.cpp
        src/sksl/transform/SkSLEliminateEmptyStatements.cpp
        src/sksl/transform/SkSLEliminateUnreachableCode.cpp
        src/sksl/transform/SkSLFindAndDeclareBuiltinFunctions.cpp
        src/sksl/transform/SkSLFindAndDeclareBuiltinVariables.cpp
        src/sksl/transform/SkSLHoistSwitchVarDeclarationsAtTopLevel.cpp
        src/sksl/transform/SkSLRenamePrivateSymbols.cpp
        src/sksl/transform/SkSLReplaceConstVarsWithLiterals.cpp
        src/sksl/transform/SkSLRewriteIndexedSwizzle.cpp
        src/svg/SkSVGCanvas.cpp
        src/svg/SkSVGDevice.cpp
        src/text/GlyphRun.cpp
        src/text/SlugFromBuffer.cpp
        src/text/StrikeForGPU.cpp
        src/utils/SkAnimCodecPlayer.cpp
        src/utils/SkCamera.cpp
        src/utils/SkCanvasStack.cpp
        src/utils/SkCanvasStateUtils.cpp
        src/utils/SkCharToGlyphCache.cpp
        src/utils/SkClipStackUtils.cpp
        src/utils/SkCustomTypeface.cpp
        src/utils/SkDashPath.cpp
        src/utils/SkEventTracer.cpp
        src/utils/SkFloatToDecimal.cpp
        src/utils/SkJSON.cpp
        src/utils/SkJSONWriter.cpp
        src/utils/SkMatrix22.cpp
        src/utils/SkMultiPictureDocument.cpp
        src/utils/SkNullCanvas.cpp
        src/utils/SkNWayCanvas.cpp
        src/utils/SkOrderedFontMgr.cpp
        src/utils/SkOSPath.cpp
        src/utils/SkPaintFilterCanvas.cpp
        src/utils/SkParse.cpp
        src/utils/SkParseColor.cpp
        src/utils/SkParsePath.cpp
        src/utils/SkPatchUtils.cpp
        src/utils/SkPolyUtils.cpp
        src/utils/SkShaderUtils.cpp
        src/utils/SkShadowTessellator.cpp
        src/utils/SkShadowUtils.cpp
        src/utils/SkTextUtils.cpp
        src/xml/SkDOM.cpp
        src/xml/SkXMLParser.cpp
        src/xml/SkXMLWriter.cpp
)

list(APPEND SOURCE_FILES
        binding/sk_alpha_type.cpp
        binding/sk_android_codec.cpp
        binding/sk_annotation.cpp
        binding/sk_auto_canvas_restore.cpp
        binding/sk_avif_decoder.cpp
        binding/sk_b_box_hierarchy.cpp
        binding/sk_bitmap.cpp
        binding/sk_blend_mode.cpp
        binding/sk_blender.cpp
        binding/sk_blenders.cpp
        binding/sk_bmp_decoder.cpp
        binding/sk_canvas.cpp
        binding/sk_capabilities.cpp
        binding/sk_codec.cpp
        binding/sk_codecs.cpp
        binding/sk_color_filter.cpp
        binding/sk_color_filters.cpp
        binding/sk_color_info.cpp
        binding/sk_color_matrix_filter.cpp
        binding/sk_color_matrix.cpp
        binding/sk_color_priv.cpp
        binding/sk_color_space_primaries.cpp
        binding/sk_color_space.cpp
        binding/sk_color_table.cpp
        binding/sk_color.cpp
        binding/sk_contour_measure_iter.cpp
        binding/sk_contour_measure.cpp
        binding/sk_corner_path_effect.cpp
        binding/sk_cubic_map.cpp
        binding/sk_cubic_resampler.cpp
        binding/sk_dash_path_effect.cpp
        binding/sk_data_table.cpp
        binding/sk_data.cpp
        binding/sk_discrete_path_effect.cpp
        binding/sk_document.cpp
        binding/sk_drawable.cpp
        binding/sk_dynamic_memory_w_stream.cpp
        binding/sk_encoded_origin.cpp
        binding/sk_encoder.cpp
        binding/sk_executor.cpp
        binding/sk_file_stream.cpp
        binding/sk_file_w_stream.cpp
        binding/sk_flattenable.cpp
        binding/sk_font_arguments.cpp
        binding/sk_font_metrics.cpp
#        binding/sk_font_mgr_fontconfig.cpp
        binding/sk_font_mgr.cpp
        binding/sk_font_style_set.cpp
        binding/sk_font_style.cpp
        binding/sk_font.cpp
#        binding/sk_gif_decoder.cpp
        binding/sk_gradient_shader.cpp
        binding/sk_graphics.cpp
        binding/sk_high_contrast_config.cpp
        binding/sk_high_contrast_filter.cpp
        binding/sk_i_rect.cpp
        binding/sk_i_size.cpp
        binding/sk_icc.cpp
        binding/sk_ico_cecoder.cpp
        binding/sk_image_filter.cpp
        binding/sk_image_filters.cpp
        binding/sk_image_generator.cpp
        binding/sk_image_info.cpp
        binding/sk_image.cpp
        binding/sk_images.cpp
        binding/sk_jpeg_decoder.cpp
#        binding/sk_jpeg_encoder.cpp
        binding/sk_jpegxl_decoder.cpp
        binding/sk_line_2d_path_effect.cpp
        binding/sk_luma_color_filter.cpp
        binding/sk_m_44.cpp
        binding/sk_malloc_pixel_ref.cpp
        binding/sk_mask_filter.cpp
        binding/sk_matrix.cpp
        binding/sk_memory_stream.cpp
        binding/sk_meshes.cpp
        binding/sk_op_builder.cpp
#        binding/sk_open_type_svg_decoder.cpp
        binding/sk_overdraw_canvas.cpp
        binding/sk_overdraw_color_filter.cpp
        binding/sk_paint.cpp
        binding/sk_path_1d_path_effect.cpp
        binding/sk_path_2d_path_effect.cpp
        binding/sk_path_builder.cpp
        binding/sk_path_effect.cpp
        binding/sk_path_measure.cpp
        binding/sk_path.cpp
#        binding/sk_pdf.cpp
        binding/sk_perlin_noise_shader.cpp
        binding/sk_picture_recorder.cpp
        binding/sk_picture.cpp
        binding/sk_pixel_ref.cpp
        binding/sk_pixmap_utils.cpp
        binding/sk_pixmap.cpp
        binding/sk_png_decoder.cpp
        binding/sk_png_encoder.cpp
        binding/sk_point_3.cpp
        binding/sk_point.cpp
        binding/sk_r_rect.cpp
#        binding/sk_raster_handle_allocator.cpp
#        binding/sk_raw_decoder.cpp
        binding/sk_rect.cpp
        binding/sk_ref_cnt_base.cpp
        binding/sk_ref_cnt.cpp
        binding/sk_region.cpp
        binding/sk_rsx_form.cpp
        binding/sk_runtime_blend_builder.cpp
        binding/sk_runtime_color_filter_builder.cpp
        binding/sk_runtime_effect_builder.cpp
        binding/sk_runtime_effect.cpp
        binding/sk_runtime_shader_builder.cpp
        binding/sk_sampling_options.cpp
        binding/sk_shader_mask_filter.cpp
        binding/sk_shader.cpp
        binding/sk_shaders.cpp
        binding/sk_size.cpp
        binding/sk_stream_asset.cpp
        binding/sk_stream_memory.cpp
        binding/sk_stream_rewindable.cpp
        binding/sk_stream_seekable.cpp
        binding/sk_stream.cpp
        binding/sk_string.cpp
        binding/sk_stroke_rec.cpp
        binding/sk_surface_props.cpp
        binding/sk_surface.cpp
        binding/sk_surfaces.cpp
        binding/sk_table_mask_filter.cpp
#        binding/sk_text_blob_builder_run_handler.cpp
        binding/sk_text_blob_builder.cpp
        binding/sk_text_blob.cpp
        binding/sk_tiled_image_utils.cpp
        binding/sk_trace_memory_dump.cpp
        binding/sk_trim_path_effect.cpp
        binding/sk_typeface.cpp
        binding/sk_un_pre_multiply.cpp
        binding/sk_v2.cpp
        binding/sk_v3.cpp
        binding/sk_v4.cpp
        binding/sk_vertices.cpp
        binding/sk_w_stream.cpp
        binding/sk_wbmp_decoder.cpp
        binding/sk_webp_decoder.cpp
#        binding/sk_webp_encoder.cpp
        binding/sk_yuva_info.cpp
        binding/sk_yuva_pixmap_info.cpp
        binding/sk_yuva_pixmaps.cpp
)

list(APPEND SOURCE_FILES
        static/static_sk_android_codec.cpp
        static/static_sk_b_box_hierarchy.cpp
        static/static_sk_blend_mode.cpp
        static/static_sk_blender.cpp
        static/static_sk_canvas.cpp
        static/static_sk_capabilities.cpp
        static/static_sk_codec.cpp
        static/static_sk_codecs_decoder.cpp
        static/static_sk_color_4f.cpp
        static/static_sk_color_filter.cpp
        static/static_sk_color_info.cpp
        static/static_sk_color_matrix.cpp
        static/static_sk_color_space.cpp
        static/static_sk_color_table.cpp
        static/static_sk_color.cpp
        static/static_sk_contour_measure.cpp
        static/static_sk_cubic_resampler.cpp
        static/static_sk_data_table.cpp
        static/static_sk_data.cpp
        static/static_sk_document.cpp
        static/static_sk_drawable_gpu_draw_handler.cpp
        static/static_sk_drawable.cpp
        static/static_sk_encoder_frame.cpp
        static/static_sk_encoder.cpp
        static/static_sk_executor.cpp
        static/static_sk_file_stream.cpp
        static/static_sk_flattenable_factory.cpp
        static/static_sk_flattenable.cpp
        static/static_sk_font_arguments_palette.cpp
        static/static_sk_font_arguments_variation_position.cpp
        static/static_sk_font_arguments.cpp
        static/static_sk_font_mgr.cpp
        static/static_sk_font_style_set.cpp
        static/static_sk_font_style.cpp
        static/static_sk_font.cpp
        static/static_sk_i_point.cpp
        static/static_sk_i_rect.cpp
        static/static_sk_i_size.cpp
        static/static_sk_id_change_listener.cpp
        static/static_sk_image_filter.cpp
        static/static_sk_image_generator.cpp
        static/static_sk_image_info.cpp
        static/static_sk_image_read_pixels_callback.cpp
        static/static_sk_image_required_properties.cpp
        static/static_sk_image.cpp
        static/static_sk_m_44.cpp
        static/static_sk_mask_filter.cpp
        static/static_sk_matrix.cpp
        static/static_sk_memory_stream.cpp
        static/static_sk_mesh_child_ptr.cpp
        static/static_sk_mesh_index_buffer.cpp
        static/static_sk_mesh_vertex_buffer.cpp
        static/static_sk_path_effect.cpp
        static/static_sk_path.cpp
        static/static_sk_picture.cpp
        static/static_sk_pixel_ref.cpp
        static/static_sk_pixmap.cpp
        static/static_sk_point_3.cpp
        static/static_sk_point_two.cpp
        static/static_sk_point.cpp
        static/static_sk_r_rect.cpp
        static/static_sk_rect.cpp
        static/static_sk_rsx_form.cpp
        static/static_sk_runtime_effect_builder_builder_child.cpp
        static/static_sk_runtime_effect_builder_builder_uniform.cpp
        static/static_sk_runtime_effect_child_ptr.cpp
        static/static_sk_runtime_effect_child.cpp
        static/static_sk_runtime_effect_result.cpp
        static/static_sk_runtime_effect_traced_shader.cpp
        static/static_sk_runtime_effect_uniform.cpp
        static/static_sk_runtime_effect.cpp
        static/static_sk_sampling_options.cpp
        static/static_sk_shader.cpp
        static/static_sk_size_t.cpp
        static/static_sk_stream_asset.cpp
        static/static_sk_stream_memory.cpp
        static/static_sk_stream_rewindable.cpp
        static/static_sk_stream_seekable.cpp
        static/static_sk_stream.cpp
        static/static_sk_string.cpp
        static/static_sk_stroke_rec.cpp
        static/static_sk_surface_props.cpp
        static/static_sk_surface.cpp
        static/static_sk_text_blob.cpp
        static/static_sk_typeface.cpp
        static/static_sk_v2.cpp
        static/static_sk_v3.cpp
        static/static_sk_v4.cpp
        static/static_sk_vertices.cpp
        static/static_sk_yuva_info.cpp
        static/static_sk_yuva_pixmap_info.cpp
        static/static_sk_yuva_pixmaps.cpp
        static/static_std_chrono_milliseconds.cpp
        static/static_std_function_void_void.cpp
        static/static_std_string_view.cpp
        static/static_std_tuple_int_int.cpp
        static/static_std_tuple_int_sk_yuva_pixmap_info_data_type.cpp
        static/static_std_tuple_sk_image_sk_codec_result.cpp
        static/static_std_vector_sk_codec_frame_info.cpp
        static/static_std_vector_int_ptr.cpp
        static/static_std_vector_sk_scalar.cpp
)

if (WIN32)
    list(APPEND SOURCE_FILES
            src/fonts/SkFontMgr_indirect.cpp
            src/fonts/SkRemotableFontMgr.cpp
            src/ports/SkDebug_win.cpp
            src/ports/SkOSFile_win.cpp
            src/ports/SkTypeface_win_dw.cpp
            src/ports/SkScalerContext_win_dw.cpp
            src/sfnt/SkOTTable_name.cpp
            src/sfnt/SkOTUtils.cpp
            src/utils/win/SkAutoCoInitialize.cpp
            src/utils/win/SkDWrite.cpp
            src/utils/win/SkDWriteFontFileStream.cpp
            src/utils/win/SkDWriteGeometrySink.cpp
            src/utils/win/SkHRESULT.cpp
            src/utils/win/SkIStream.cpp
            src/ports/SkFontMgr_win_dw.cpp
            src/ports/SkFontMgr_win_dw_factory.cpp
            #src/utils/win/SkWGL_win.cpp
    )
elseif (APPLE)
    list(APPEND SOURCE_FILES
            src/ports/SkFontMgr_mac_ct.cpp
            src/ports/SkFontMgr_mac_ct_factory.cpp
            #src/ports/SkFontMgr_empty_factory.cpp
            src/sfnt/SkOTTable_name.cpp
            src/sfnt/SkOTUtils.cpp
            src/ports/SkScalerContext_mac_ct.cpp
            src/ports/SkTypeface_mac_ct.cpp
            src/ports/SkOSFile_posix.cpp
            binding/sk_typeface_mac.cpp
            src/utils/mac/SkCTFont.cpp
    )
elseif (UNIX)
    list(APPEND SOURCE_FILES
            src/ports/SkFontMgr_empty_factory.cpp
            src/ports/SkOSFile_posix.cpp
    )
endif()

add_library(reskia SHARED ${SOURCE_FILES})

if(WIN32)
    target_link_libraries(reskia skcms zlib libpng turbojpeg-static avif libwebp libwebpdemux libwebpmux)
elseif(APPLE)
    target_link_libraries(reskia skcms skresources svg expat png png16 jpeg avif webp webpdecoder webpdemux webpmux "-framework Cocoa" "-framework CoreFoundation" "-framework CoreText")
elseif(UNIX)
    target_link_libraries(reskia skcms)
endif()

if(WIN32)
    set_target_properties(reskia PROPERTIES PREFIX "lib")
endif()

# TEST

enable_testing()
add_executable(test_c_skia test/test.cpp )
if(APPLE)
    find_library(CORE_FOUNDATION CoreFoundation)
    find_library(CORE_TEXT CoreText)
    target_link_libraries(test_c_skia reskia "-framework CoreFoundation" "-framework CoreText" ${CORE_FOUNDATION} ${CORE_TEXT} fontconfig)
elseif (WIN32)
    target_link_libraries(test_c_skia reskia)
endif ()
add_test(NAME c_skia_test COMMAND test_c_skia)